@page
@model _2003v5.Pages.BestAndWorstStartsModel
@{
}

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="Author" content="Trevor Scallan">
    <meta name="GENERATOR" content="Microsoft FrontPage 5.0">
    <title>GoS-DB Miscellaneous Report</title>
    <link rel="stylesheet" type="text/css" href="~/css/gos2.css">
</head>
<body>

   <div style="display: flex; justify-content: space-between; width: 1000px; margin: auto;">
       <div style="width: 160px; height: 70px; display: flex; align-items: center; justify-content: center; text-align: center;">
           <img src="~/images/gosdb-small.jpg"/>
       </div>
       <div style="display: flex; flex-direction: column; justify-content: center; width: 160px; height: 70px; text-align: center;">
            <p style="display: block; height: 70px; width: 90px; text-decoration: none; font-size: 12px;">Search by Player</p>
           <a href="ShowFullDatabase" style="display: block; height: 20px; width: 90px; text-decoration: none; font-size: 12px;">Back to GoS-DB Hub</a>
       </div>


        <div style="width: 460px; height: 100px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; margin: 0 auto;">
            <p style="margin-top: -50px; margin-bottom: 0; font-size: 18px; color: #006E32;">
                MISCELLANEOUS REPORTS
            </p>
                    <p style="margin-top: 0; margin-bottom: 0; font-size: 13px;">
                        <b>Report 6: Best and Worst Starts to a Season</b>
                    </p>
                </div>
        <div style="position: relative; width: 260px; height: 70px; padding: 10px; font-size: 11px; font-family: verdana, arial, helvetica, sans-serif; display: flex; align-items: flex-start; justify-content: flex-start;">
            <div style="position: absolute; top: 0px; left: 0px;">
                Miscellaneous Reports is an ever-growing collection of pages that reflect broad aspects of Argyle's playing history. If you have an idea for another, please get in touch.
            </div>
        </div>
    </div>

<div style="display: flex; justify-content: center; margin: -40px">
    <div style="width: 270px; height: 80px; padding: 0px 5px; margin-right: 10px;">
        <p style="font-size: 11px; padding: 2px 5px; margin: 0;">Choose Competition</p>
        <p style="font-size: 11px; padding: 2px 5px; margin: 0;">Based on Modern Points (3 for a win applied to every season) or Goal Difference:</p>
        <p style="font-size: 11px; padding: 2px 5px; margin: 0;">Choose length of start (2-30 games; defaults to latest game if between 2 and 30):</p>
        <p style="font-size: 11px; padding: 2px 5px; margin: 0;">Choose venue:</p>
    </div>
    <div style="width: 100px; height: 80px; display: flex; flex-wrap: wrap; align-items: center;">
     <select id="competition" name="competition" style="font-size: 10px; margin: 2px 5px;">
       <option value="league" selected>League Matches</option>
       <option value="all">All Matches</option>
     </select>
     <select id="points" name="bycolumn" style="font-size: 10px; margin: 8px 5px;">
       <option value="modpoints" selected>Modern Points</option>
       <option value="diff">Goal Difference</option>
     </select>
     <select id="length" name="games" style="font-size: 10px; margin: 8px 5px;">
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
       </select>
     <select id="venue" name="homeaway" style="font-size: 10px; margin: 2px 5px;">
       <option value="ha" selected>Home & Away</option>
       <option value="ho">Home only</option>
       <option value="ao">Away only</option>
     </select>
   </div>
 </div>
<div style="display: flex; justify-content: center; margin-top: 100px;">
    <button>Select options and click to redisplay</button>
</div>
<div style="width: 300px; margin: 20px auto ; text-align: center;">
      <h2 style="font-size: 12px; color: #006E32;">First League Matches</h2>
      <div style="border: 1px solid #ddd;">
        <table id="table1" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 300px">
          <thead>
            <tr style="border-top: 1px solid #ddd;">
              <th style="width: 20px; border-right: 1px solid #ddd;"><b>#</b></th>
              <th style="width: 70px; border-right: 1px solid #ddd;">Season</th>
              <th style="width: 20px; border-right: 1px solid #ddd;">W</th>
              <th style="width: 20px; border-right: 1px solid #ddd;">D</th>
              <th style="width: 20px; border-right: 1px solid #ddd;">L</th>
              <th style="width: 20px; border-right: 1px solid #ddd;">F</th>
              <th style="width: 30px; border-right: 1px solid #ddd;"><b>Goal Diff</b></th>
              <th style="width: 40px; border-right: 1px solid #ddd;"><b>Mod'n Points</b></th>
              <th style="width: 40px; border-right: 1px solid #ddd;"><b>Final Pos'n</b></th>
            </tr>
          </thead>
          <tbody>
                    @foreach (var Match in Model.MatchesTable)
                    {
                        <tr>
                            <td>@Match.rank</td>
                            <td>@Match.years</td>
                            <td>@Match.wins</td>
                            <td>@Match.draws</td>
                            <td>@Match.defeats</td>
                            <td>@Match.goalsfor</td>
                            <td>@Match.goalsagainst</td>
                            <td>@Match.goaldiff</td>
                            <td>@Match.modernpoints</td>
                            <td>@Match.endpos @Match.promrel</td> <!--P means green arrow and R means read arrow-->
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <style>
            #table1 td {
                border: 1px solid #c0c0c0;
                text-align: right;
                margin: 0;
                white-space: nowrap;
                padding-left: 4px;
                padding-right: 4px;
                padding-top: 1px;
                padding-bottom: 1px;
            }
        </style>
        
    <script>
        function Submit() {
            var comp = document.getElementById("comp").value; // league or  all
            var points = document.getElementById("points").value; // modpoints diff
            var length = document.getElementById("length").value; // it's a number between 2 and 30
            var venue = document.getElementById("venue").value; // ho ha ao
            switch (points) {
                case "modpoints":
                    points = "mp";
                    break;
                case "diff":
                    points = "gd";
                    break;
                default:
                    points = "mp";
                // code block
            }
            switch (venue) {
                case "ho":
                    venue = "H";
                    break;
                case "ao":
                    venue = "A";
                    break;
                case "ha":
                    venue = "HA";
                    break;
                default:
                    venue = "HA";
                // code block
            }
            console.log(comp + " " + points + " " + length + " " + venue);
            window.location.replace("gosdb-misc6?comp=" + comp + "&points=" + points + "&length=" + length + "&venue=" + venue + "");
        }
    </script>
    <script>
        //it will make the button display the same option was the User selected previouslly
        let params = new URLSearchParams(location.search);
        let comp = params.get('comp');
        if (comp == "all")
            document.getElementById("comp").selectedIndex = "1";
        else if (comp == "league")
            document.getElementById("comp").selectedIndex = "0";
        let points = params.get('points');
        console.log(points);
        console.log(comp);
        if (points == "gd")
            document.getElementById("points").selectedIndex = "1";
        else if (points == "mp")
            document.getElementById("points").selectedIndex = "0";

        let n = parseInt(@Model.length);
        n = n - 2;
        document.getElementById("length").selectedIndex = n.toString();
        let venue = params.get('venue');
        if (venue == "H")
            document.getElementById("venue").selectedIndex = "1";
        else if (venue == "A")
            document.getElementById("venue").selectedIndex = "2";
    </script>
</body>
</html>